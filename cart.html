<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Your Cart</title>
<link rel="stylesheet" href="Css/cart.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Kaushan+Script&display=swap" rel="stylesheet"> 
</head>

<body>
    <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <div class="brand-logo">ShopLine</div>
      </div>

      <nav class="nav" aria-label="Main navigation">
        <a href="index.html" class="active">Home</a>
        <a href="shop.html">Shop</a>
        <a href="contactus.html">ContactUs</a>
      </nav>

      <div class="header-controls">
        <div class="search">
          <input id="globalSearch" type="search" placeholder="Search products" />
        </div>
        <button class="icon-btn" title="Cart" aria-label="Cart" onclick="location.href='cart.html'"><i class="fa-solid fa-cart-arrow-down"></i></button>
        <button class="icon-btn" title="Account" aria-label="Account"><i class="fa-solid fa-user"></i></button>
      </div>
    </div>
  </header>

<div class="cart-wrapper">
  <h1>Your Cart</h1>

  <div class="cart-grid">
    <div class="cart-items" id="cartItems"></div>

    <div class="cart-summary">
      <div class="summary-row"><span>Subtotal</span><span id="subtotal">$0</span></div>
      <div class="summary-row"><span>Shipping</span><span>Free</span></div>
      <div class="summary-row"><span><b>Total</b></span><span id="total"><b>$0</b></span></div>

      <button class="checkout-btn">Checkout</button>
    </div>
  </div>
</div>

<script src="cart.js"></script>
<script>
function renderCart() {
    const container = document.getElementById("cartItems");
    let cart = getCart();
    container.innerHTML = "";

    if (cart.length === 0) {
        container.innerHTML = `<div class="empty">Your cart is empty.</div>`;
        document.getElementById("subtotal").textContent = "$0";
        document.getElementById("total").textContent = "$0";
        return;
    }

    let subtotal = 0;

    cart.forEach(item => {
        subtotal += item.price * item.qty;

        const div = document.createElement("div");
        div.className = "cart-item";

        div.innerHTML = `
            <img class="item-img" src="${item.thumbnail}" />

            <div class="item-info">
                <div class="item-title">${item.title}</div>
                <div class="item-price">$${item.price}</div>

                <div class="qty-controls">
                    <button class="qty-btn" onclick="updateQty(${item.id}, -1); renderCart()">-</button>
                    <div>${item.qty}</div>
                    <button class="qty-btn" onclick="updateQty(${item.id}, +1); renderCart()">+</button>
                </div>

                <button class="remove-btn" onclick="removeFromCart(${item.id}); renderCart()">Remove</button>
            </div>
        `;

        container.appendChild(div);
    });

    document.getElementById("subtotal").textContent =
        "$" + subtotal.toFixed(2);

    document.getElementById("total").textContent =
        "$" + subtotal.toFixed(2);
}

renderCart();
</script>


</body>
</html>
